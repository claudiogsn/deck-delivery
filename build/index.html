<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard Delivery App</title>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
  <link href="https://cdn.jsdelivr.net/npm/@themesberg/tailwind-datepicker@3.2.2/dist/datepicker.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/tom-select@2.2.0/dist/css/tom-select.css" rel="stylesheet">
  <style>
    .late .text-red-600 {
      color: #ff0000 !important;
    }

    .late .svg-container svg {
      fill: #ff0000 !important;
      animation: pulse-red-yellow 1.5s infinite;
    }

    @keyframes pulse-red-yellow {
      0%, 100% {
        fill: #ff0000;
      }
      50% {
        fill: #ffcc00;
      }
    }

    .card {
      width: calc(20% - 1rem); /* reduzir a largura para 20% do container */
      margin: 0.5rem; /* adicionar um pouco de margem entre os cards */
    }

    .grid {
      grid-template-columns: repeat(5, 1fr); /* definir 5 colunas de igual largura */
      gap: 0.5rem; /* adicionar um pouco de espaço entre as colunas */
    }

    .ts-control {
      width: 300px; /* Ajuste conforme necessário */
    }

  </style>
  <link rel="icon" href="favicon.ico">
  <link href="style.css" rel="stylesheet">
</head>
<body
  x-data="{ page: 'ecommerce', 'loaded': true, 'darkMode': true, 'stickyMenu': false, 'sidebarToggle': false, 'scrollTop': false }"
  x-init="
       darkMode = JSON.parse(localStorage.getItem('darkMode'));
       $watch('darkMode', value => localStorage.setItem('darkMode', JSON.stringify(value)))"
  :class="{'dark text-bodydark bg-boxdark-2': darkMode === true}"
>
<div class="flex h-screen overflow-hidden">
    <div class="relative flex flex-1 flex-col overflow-y-auto overflow-x-hidden">
      <main>
        <div class="mx-auto max-w-screen-2xl p-4 md:p-6 2xl:p-10">
          <div class="rounded-sm border border-stroke bg-white px-5 py-6 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:pb-1 mb-6">
            <div id="date-warning" class="hidden bg-yellow-200 text-yellow-800 p-2 rounded mb-4">
              Aviso: A data selecionada não é a de hoje.
            </div>
            <div class="flex flex-wrap items-center justify-between gap-4">
              <div class="flex flex-col">
                <label for="store-filter" class="font-medium text-black dark:text-white">Estabelecimento</label>
                <select id="store-filter" class="mt-1 rounded border border-gray-300 bg-white py-2 px-3 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-500 focus:ring-opacity-50" multiple>
                  <option value="all">Todos</option>
                  <option value="23446287000183">DECK CHURRASQUIN</option>
                  <option value="23446287000264">DECK TRATTORIA</option>
                  <option value="23446287000345">DECK SUSHI</option>
                  <option value="23446287000426">DECK VILA RIO</option>
                  <option value="26136464000113">DDK DELIVERY</option>
                </select>
              </div>
              <div class="flex flex-col">
                <label for="start-date" class="font-medium text-black dark:text-white">Data Início</label>
                <input type="datetime-local" id="start-date" class="mt-1 rounded border border-gray-300 bg-white py-2 px-3 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-500 focus:ring-opacity-50">
              </div>
              <div class="flex flex-col">
                <label for="end-date" class="font-medium text-black dark:text-white">Data Fim</label>
                <input type="datetime-local" id="end-date" class="mt-1 rounded border border-gray-300 bg-white py-2 px-3 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-500 focus:ring-opacity-50">
              </div>
              <div class="flex items-end">
                <button id="fetch-data-btn" class="mt-6 rounded bg-indigo-600 py-2 px-4 font-semibold text-white shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-75">
                  Pesquisar
                </button>
              </div>
            </div>
            <br>
          </div>


          <div class="grid grid-cols-5  gap-0.5 mb-6">
            <!-- Total Orders Card -->
            <div id="total-orders-card" class="rounded-sm border border-stroke bg-white px-7.5 py-6 shadow-default dark:border-strokedark dark:bg-boxdark">
              <div class="flex h-11.5 w-11.5 items-center justify-center rounded-full bg-meta-2 dark:bg-meta-4">
                <svg class="fill-primary dark:fill-white" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M21.1063 18.0469L19.3875 3.23126C19.2157 1.71876 17.9438 0.584381 16.3969 0.584381H5.56878C4.05628 0.584381 2.78441 1.71876 2.57816 3.23126L0.859406 18.0469C0.756281 18.9063 1.03128 19.7313 1.61566 20.3844C2.20003 21.0375 2.99066 21.3813 3.85003 21.3813H18.1157C18.975 21.3813 19.8 21.0031 20.35 20.3844C20.9 19.7656 21.2094 18.9063 21.1063 18.0469ZM19.2157 19.3531C18.9407 19.6625 18.5625 19.8344 18.15 19.8344H3.85003C3.43753 19.8344 3.05941 19.6625 2.78441 19.3531C2.50941 19.0438 2.37191 18.6313 2.44066 18.2188L4.12503 3.43751C4.19378 2.71563 4.81253 2.16563 5.56878 2.16563H16.4313C17.1532 2.16563 17.7719 2.71563 17.875 3.43751L19.5938 18.2531C19.6282 18.6656 19.4907 19.0438 19.2157 19.3531Z" fill="" />
                  <path d="M14.3345 5.29375C13.922 5.39688 13.647 5.80938 13.7501 6.22188C13.7845 6.42813 13.8189 6.63438 13.8189 6.80625C13.8189 8.35313 12.547 9.625 11.0001 9.625C9.45327 9.625 8.1814 8.35313 8.1814 6.80625C8.1814 6.6 8.21577 6.42813 8.25015 6.22188C8.35327 5.80938 8.07827 5.39688 7.66577 5.29375C7.25327 5.19063 6.84077 5.46563 6.73765 5.87813C6.6689 6.1875 6.63452 6.49688 6.63452 6.80625C6.63452 9.2125 8.5939 11.1719 11.0001 11.1719C13.4064 11.1719 15.3658 9.2125 15.3658 6.80625C15.3658 6.49688 15.3314 6.1875 15.2626 5.87813C15.1595 5.46563 14.747 5.225 14.3345 5.29375Z" fill="" />
                </svg>
              </div>
            
              <div class="mt-4 flex items-end justify-between">
                <div>
                  <h4 id="total-orders" class="text-title-md font-bold text-black dark:text-white">0</h4>
                  <span class="text-sm font-medium">Total Pedidos</span>
                </div>
              </div>
            </div>
            <!-- Late Orders Card -->
            <div id="late-orders-card" class="rounded-sm border border-stroke bg-white px-7.5 py-6 shadow-default dark:border-strokedark dark:bg-boxdark">
              <div class="flex h-11.5 w-11.5 items-center justify-center rounded-full bg-meta-2 dark:bg-meta-4 svg-container">
                <svg id="late-orders-icon" class="fill-primary dark:fill-white" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0ZM12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM13 16H11V14H13V16ZM13 12H11V7H13V12Z" fill="" />
                </svg>
              </div>
              <div class="mt-4 flex items-end justify-between">
                <div>
                  <h4 id="late-orders" class="text-title-md font-bold text-black dark:text-white">0</h4>
                  <span class="text-sm font-medium">Pedidos Atrasados</span>
                </div>
              </div>
            </div>
             <!-- Avg Prep Time Card -->
             <div id="avg-prep-time-card" class="rounded-sm border border-stroke bg-white px-7.5 py-6 shadow-default dark:border-strokedark dark:bg-boxdark">
              <div class="flex h-11.5 w-11.5 items-center justify-center rounded-full bg-meta-2 dark:bg-meta-4">
                <svg class="fill-primary dark:fill-white" width="24" height="24" viewBox="0 0 576 512" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M240 144A96 96 0 1 0 48 144a96 96 0 1 0 192 0zm44.4 32C269.9 240.1 212.5 288 144 288C64.5 288 0 223.5 0 144S64.5 0 144 0c68.5 0 125.9 47.9 140.4 112h71.8c8.8-9.8 21.6-16 35.8-16H496c26.5 0 48 21.5 48 48s-21.5 48-48 48H392c-14.2 0-27-6.2-35.8-16H284.4zM144 80a64 64 0 1 1 0 128 64 64 0 1 1 0-128zM400 240c13.3 0 24 10.7 24 24v8h96c13.3 0 24 10.7 24 24s-10.7 24-24 24H280c-13.3 0-24-10.7-24-24s10.7-24 24-24h96v-8c0-13.3 10.7-24 24-24zM288 464V352H512V464c0 26.5-21.5 48-48 48H336c-26.5 0-48-21.5-48-48zM48 320h80 16 32c26.5 0 48 21.5 48 48s-21.5 48-48 48H160c0 17.7-14.3 32-32 32H64c-17.7 0-32-14.3-32-32V336c0-8.8 7.2-16 16-16zm128 64c8.8 0 16-7.2 16-16s-7.2-16-16-16H160v32h16zM24 464H200c13.3 0 24 10.7 24 24s-10.7 24-24 24H24c-13.3 0-24-10.7-24-24s10.7-24 24-24z" fill="" />
                </svg>
              </div>
              <div class="mt-4 flex items-end justify-between">
                <div>
                  <h4 id="avg-prep-time" class="text-title-md font-bold text-black dark:text-white">0 min</h4>
                  <span class="text-sm font-medium">Tempo de Preparo</span>
                </div>
              </div>
            </div>
            <!-- Avg Waiting Time Card -->
            <div id="avg-waiting-time-card" class="rounded-sm border border-stroke bg-white px-7.5 py-6 shadow-default dark:border-strokedark dark:bg-boxdark">
              <div class="flex h-11.5 w-11.5 items-center justify-center rounded-full bg-meta-2 dark:bg-meta-4">
                <svg class="fill-primary dark:fill-white" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0ZM12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM13 16H11V14H13V16ZM13 12H11V7H13V12Z" fill="" />
                </svg>
              </div>
              <div class="mt-4 flex items-end justify-between">
                <div>
                  <h4 id="avg-waiting-time" class="text-title-md font-bold text-black dark:text-white">0 min</h4>
                  <span class="text-sm font-medium">Tempo de Espera</span>
                </div>
              </div>
            </div>
            <!-- Avg Dispatch Time Card -->
            <div id="avg-dispatch-time-card" class="rounded-sm border border-stroke bg-white px-7.5 py-6 shadow-default dark:border-strokedark dark:bg-boxdark">
              <div class="flex h-11.5 w-11.5 items-center justify-center rounded-full bg-meta-2 dark:bg-meta-4">
                <svg class="fill-primary dark:fill-white" width="24" height="24" viewBox="0 0 640 512" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M280 32c-13.3 0-24 10.7-24 24s10.7 24 24 24h57.7l16.4 30.3L256 192l-45.3-45.3c-12-12-28.3-18.7-45.3-18.7H64c-17.7 0-32 14.3-32 32v32h96c88.4 0 160 71.6 160 160c0 11-1.1 21.7-3.2 32h70.4c-2.1-10.3-3.2-21-3.2-32c0-52.2 25-98.6 63.7-127.8l15.4 28.6C402.4 276.3 384 312 384 352c0 70.7 57.3 128 128 128s128-57.3 128-128s-57.3-128-128-128c-13.5 0-26.5 2.1-38.7 6L418.2 128H480c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32H459.6c-7.5 0-14.7 2.6-20.5 7.4L391.7 78.9l-14-26c-7-12.9-20.5-21-35.2-21H280zM462.7 311.2l28.2 52.2c6.3 11.7 20.9 16 32.5 9.7s16-20.9 9.7-32.5l-28.2-52.2c2.3-.3 4.7-.4 7.1-.4c35.3 0 64 28.7 64 64s-28.7 64-64 64s-64-28.7-64-64c0-15.5 5.5-29.7 14.7-40.8zM187.3 376c-9.5 23.5-32.5 40-59.3 40c-35.3 0-64-28.7-64-64s28.7-64 64-64c26.9 0 49.9 16.5 59.3 40h66.4C242.5 268.8 190.5 224 128 224C57.3 224 0 281.3 0 352s57.3 128 128 128c62.5 0 114.5-44.8 125.8-104H187.3zM128 384a32 32 0 1 0 0-64 32 32 0 1 0 0 64z" fill="" />
                </svg>
              </div>
              <div class="mt-4 flex items-end justify-between">
                <div>
                  <h4 id="avg-dispatch-time" class="text-title-md font-bold text-black dark:text-white">0 min</h4>
                  <span class="text-sm font-medium">Tempo de Despacho</span>
                </div>
              </div>
            </div>          
            </div>
            
            <div class="mt-4 grid grid-cols-12 gap-4 md:mt-6 md:gap-6 2xl:mt-7.5 2xl:gap-7.5">
              <!-- ====== Chart One Start -->
              <div class="col-span-12 rounded-sm border border-stroke bg-white px-5 pb-5 pt-7.5 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:col-span-12">
                <button id="toggle-chart-btn" class="mb-4 rounded bg-indigo-600 py-2 px-4 font-semibold text-white shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-75">Recolher Gráfico</button>
                <div id="chart-container">
                  <div id="store-info-container" class="flex flex-wrap items-start justify-between gap-3 sm:flex-nowrap"></div>
                  <div>
                    <div id="chartOne" class="-ml-5"></div>
                  </div>
                </div>
              </div>
              <!-- ====== Chart One End -->
            
              <!-- Pesquisa e Filtro -->
              <div class="col-span-12 flex flex-col md:flex-row md:items-center md:justify-between mb-6">
                <div class="flex flex-wrap">
                  <div class="w-1/2 md:w-1/4 mx-4">
                    <label for="integration-filter" class="font-medium text-black dark:text-white">Integração : </label>
                    <select id="integration-filter" class="mt-1 rounded border border-gray-300 bg-white py-2 px-3 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-500 focus:ring-opacity-50">
                      <option value="all">Todos</option>
                      <option value="PEDIDO DIGITADO">PEDIDO DIGITADO</option>
                      <option value="DELIVERY-DIRETO">DELIVERY-DIRETO</option>
                      <option value="IFOOD">IFOOD</option>
                    </select>
                    <p>    </p>
                  </div>
                  <div class="w-1/2 md:w-1/4 mx-4">
                    <label for="search-order" class="font-medium text-black dark:text-white">    Pesquisar Pedido : </label>
                    <input type="text" id="search-order" class="mt-1 rounded border border-gray-300 bg-white py-2 px-3 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-500 focus:ring-opacity-50" placeholder="Identificador ou Controle">
                  </div>
                </div>
              </div>
            
              <!-- ====== Table One Start -->
              <div class="col-span-12 xl:col-span-4">
                <div class="rounded-sm border border-stroke bg-white px-5 pb-2.5 pt-6 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:pb-1">
                  <center><h2 class="font-medium text-black dark:text-white">PREPARANDO</h2></center>
                  <div class="max-w-full overflow-x-auto">
                    <table class="w-full table-auto">
                      <thead>
                        <tr class="bg-gray-2 text-left dark:bg-meta-4">
                          <th class="min-w-[220px] px-4 py-4 font-medium text-black dark:text-white xl:pl-11">Pedido</th>
                          <th class="min-w-[120px] px-4 py-4 font-medium text-black dark:text-white">Status</th>
                        </tr>
                      </thead>
                      <tbody id="preparing-orders">
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
              <div class="col-span-12 xl:col-span-4">
                <div class="rounded-sm border border-stroke bg-white px-5 pb-2.5 pt-6 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:pb-1">
                  <center><h2 class="font-medium text-black dark:text-white">PRONTO</h2></center>
                  <div class="max-w-full overflow-x-auto">
                    <table class="w-full table-auto">
                      <thead>
                        <tr class="bg-gray-2 text-left dark:bg-meta-4">
                          <th class="min-w-[220px] px-4 py-4 font-medium text-black dark:text-white xl:pl-11">Pedido</th>
                          <th class="min-w-[120px] px-4 py-4 font-medium text-black dark:text-white">Status</th>
                        </tr>
                      </thead>
                      <tbody id="ready-orders">
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
              <div class="col-span-12 xl:col-span-4">
                <div class="rounded-sm border border-stroke bg-white px-5 pb-2.5 pt-6 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:pb-1">
                  <center><h2 class="font-medium text-black dark:text-white">SAIU PARA ENTREGA</h2></center>
                  <div class="max-w-full overflow-x-auto">
                    <table class="w-full table-auto">
                      <thead>
                        <tr class="bg-gray-2 text-left dark:bg-meta-4">
                          <th class="min-w-[220px] px-4 py-4 font-medium text-black dark:text-white xl:pl-11">Pedido</th>
                          <th class="min-w-[120px] px-4 py-4 font-medium text-black dark:text-white">Status</th>
                        </tr>
                      </thead>
                      <tbody id="dispatched-orders">
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
              <!-- ====== Table One End -->
            </div>
            </div>
            </main>
            </div>
            </div>
            <script defer src="bundle.js"></script>
            <script defer src="src/js/main.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>
            </body>
            </html>
            